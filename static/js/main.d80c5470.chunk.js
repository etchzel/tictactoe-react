(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{11:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);n(11);var a=n(1),s=n.n(a),r=n(7),i=n.n(r),c=n(6),o=n(3),u=n(4),l=n(2),d=n(10),g=n(9),m=(n(16),n(0));function h(e){var t;return Object(m.jsx)("button",{className:"cell ".concat((t=e.onWin,t?"win":"")),onClick:function(){return e.onClick()},children:e.value})}var f=function(e){for(var t=function(t){return Object(m.jsx)(h,{value:e.squares[t],onClick:function(){return e.onClick(t)},onWin:e.onWin?e.onWin.some((function(e){return e===t})):null},"cell-".concat(t.toString()))},n=[],a=0;a<3;a++){for(var s=[],r=3*a;r<3*a+3;r++)s.push(t(r));n.push(Object(m.jsx)("div",{className:"board-row",children:s},"row-".concat(a)))}return Object(m.jsx)("div",{className:"board",children:n})},v=n(8);n(18);var b=function(e){var t=Object(a.useState)({gameMode:e.gameMode,signMode:"X"===e.playerSign?1:0}),n=Object(v.a)(t,2),s=n[0],r=n[1],i=function(e){var t={gameMode:e,signMode:e?1:s.signMode};return r(t),t},c=function(e){var t={signMode:e};return r(t),t},o=function(t){e.onChange(t.gameMode,t.signMode?"X":"O")};return Object(m.jsxs)("div",{className:"settings",children:[Object(m.jsx)("h2",{className:"message game-mode",children:"Pick game mode:"}),Object(m.jsxs)("div",{className:"game-mode-select",children:[Object(m.jsx)("button",{className:"btn vs-human ".concat(s.gameMode?"active":""),onClick:function(){return o(i(1))},children:"Vs. Human"}),Object(m.jsx)("button",{className:"btn vs-ai ".concat(s.gameMode?"":"active"),onClick:function(){return o(i(0))},children:"Vs. AI"})]}),Object(m.jsxs)("div",{className:"ai-mode-settings ".concat(s.gameMode?"hidden":""),children:[Object(m.jsx)("h2",{className:"message pick-sign",children:"Choose sign:"}),Object(m.jsxs)("div",{className:"sign-select",children:[Object(m.jsx)("button",{className:"btn sign-x ".concat(s.signMode?"active":""),onClick:function(){return o(c(1))},children:"X"}),Object(m.jsx)("button",{className:"btn sign-o ".concat(s.signMode?"":"active"),onClick:function(){return o(c(0))},children:"O"})]})]})]})},j=function(){function e(t){Object(o.a)(this,e),this._sign=t}return Object(u.a)(e,[{key:"getSign",get:function(){return this._sign}},{key:"setSign",set:function(e){this._sign=e}}]),e}(),x=function(){var e="X",t="O";return{setCurrentPlayerSign:function(n){e=O.getHumanPlayer(n),t=O.getAIPlayer(n)},minimax:function n(a,s){var r=a.filter((function(e){return!isNaN(e)}));if(O.checkWin(a)){if(s===e)return{score:10};if(s===t)return{score:-10}}else if(0===r.length)return{score:0};var i,c=[];if(r.forEach((function(r){var i={};if(i.index=r,a[r]=s,s===t){var o=n(a,e);i.score=o.score}else{var u=n(a,t);i.score=u.score}a[r]=i.index,c.push(i)})),s===t){var o=-1e4;c.forEach((function(e,t){e.score>o&&(o=e.score,i=t)}))}else{var u=1e4;c.forEach((function(e,t){e.score<u&&(u=e.score,i=t)}))}return c[i]}}}(),O=function(){var e=new j("X"),t=new j("O"),n=function(n){return"X"===n?t.getSign:e.getSign},a=function(e){var t=null;return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some((function(n){var a=n.every((function(t){return"X"===e[t]}))||n.every((function(t){return"O"===e[t]}));return a&&(t=n),a})),t},s=function(e){return!e.some((function(e){return null===e}))},r=function(n,r){var i=n.history.slice(0,n.stepNumber+1),c=i[i.length-1].squares.slice();return!a(c)&&!c[r]&&(!s(c)&&(c[r]=n.xIsNext?e.getSign:t.getSign,{history:i.concat([{squares:c,moveIndex:r}]),stepNumber:i.length,gameMode:n.gameMode,playerSign:n.playerSign,xIsNext:!n.xIsNext}))};return{checkWin:a,checkDraw:s,moveStep:r,aiStep:function(e){if(!e.xIsNext||"X"!==e.playerSign){var t=e.history[e.history.length-1].squares.slice().map((function(e,t){return null===e&&(e=t),e}));x.setCurrentPlayerSign(e.playerSign);var a=x.minimax(t,n(e.playerSign)).index;if(void 0!==a)return r(e,a)}},getEmptySquares:function(e){return e.filter((function(e){return null===e}))},getHumanPlayer:function(n){return"X"===n?e.getSign:t.getSign},getAIPlayer:n}}(),p=(n(19),function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={history:[{squares:Array(9).fill(null),moveIndex:0}],stepNumber:0,gameMode:1,playerSign:"X",xIsNext:!0},a.moveHandler=a.moveHandler.bind(Object(l.a)(a)),a.restartHandler=a.restartHandler.bind(Object(l.a)(a)),a.updateState=a.updateState.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"moveHandler",value:function(e){if(this.state.xIsNext||this.state.gameMode||"X"!==!this.state.playerSign){var t=O.moveStep(this.state,e);if(t){if(!this.state.gameMode){var n=O.aiStep(t);n&&Object.assign(t,Object(c.a)({},n))}this.setState(t)}}else console.log(this.state)}},{key:"updateState",value:function(e,t){var n={history:[{squares:Array(9).fill(null),moveIndex:0}],stepNumber:0,xIsNext:!0,gameMode:e,playerSign:t};if(!e&&"O"===t){var a=O.aiStep(n);Object.assign(n,Object(c.a)({},a))}this.setState(n)}},{key:"restartHandler",value:function(){this.updateState(this.state.gameMode,this.state.playerSign)}},{key:"render",value:function(){var e,t=this,n=this.state.history[this.state.stepNumber],a=O.checkWin(n.squares);if(a){var s=n.squares[a[0]];e="Winner: ".concat(this.state.gameMode?s:s===this.state.playerSign?"Player":"AI")}else e=O.checkDraw(n.squares)?"Draw":"Next player: ".concat(this.state.xIsNext?"X":"O");return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(b,{gameMode:this.state.gameMode,playerSign:this.state.playerSign,onChange:this.updateState}),Object(m.jsxs)("div",{className:"main-container",children:[Object(m.jsxs)("div",{className:"game-info",children:[Object(m.jsxs)("div",{className:"message current-mode",children:["Current Mode: Vs. ",this.state.gameMode?"Human":"AI"]}),Object(m.jsx)("div",{className:"message game-message",children:e})]}),Object(m.jsx)("div",{className:"game-board",children:Object(m.jsx)(f,{squares:n.squares,onClick:function(e){return t.moveHandler(e)},onWin:a||null})}),Object(m.jsx)("div",{className:"options",children:Object(m.jsx)("button",{className:"btn restart-btn",onClick:function(){return t.restartHandler()},children:"Restart"})})]})]})}}]),n}(s.a.Component));i.a.render(Object(m.jsx)(p,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d80c5470.chunk.js.map